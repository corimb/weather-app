{"version":3,"sources":["images/weather/sun.svg","images/heart.png","images/weather/night.svg","images/weather/cloudy_day.svg","images/weather/cloudy_night.svg","images/weather/rainy_day.svg","images/weather/rain.svg","images/weather/storm.svg","images/weather/snowflake.svg","images/delete.svg","images/cold.svg","images/hot.svg","images/humidity.svg","images/meter.svg","images/heart_transparent.svg","images/added.svg","services/storage.js","services/api.js","components/Icons.js","components/Favorites.js","services/geolocation.js","components/Home.js","components/App.js","index.js"],"names":["module","exports","readFavStorage","listFav","localStorage","getItem","JSON","parse","getDataFromApi","location","fetch","CONFIG","API_KEY","then","response","json","data","catch","error","console","log","isDay","sunrise","sunset","d","Date","now","Math","round","getTime","Icons","props","icon","iconId","src","storm","alt","rainyDay","rain","snow","cloudyDay","cloudyNight","sunyDay","sunyNight","Favorites","useState","favoritesData","setFavoritesData","useEffect","favoritesLocal","getDataFavorites","removeFav","id","listFavParsed","position","indexOf","splice","setItem","stringify","removeFavStorage","findIndex","item","favoritesIds","a","favListData","cityData","push","className","to","length","map","index","key","weather","sys","floor","main","temp","name","deleteIcon","onClick","GeoLocationApi","getCityFromCoordinates","latitude","longitude","URL","loc","address","town","village","state","Home","searchCity","setSearchCity","weatherData","setWeatherData","isFav","setIsFav","navigator","geolocation","getCurrentPosition","coords","locationName","heartIconTransparent","onSubmit","e","preventDefault","htmlFor","type","value","onChange","event","target","includes","cod","description","feels_like","minIcon","temp_min","maxIcon","temp_max","humidityIcon","humidity","pressureIcon","pressure","addedToFav","find","saveFavStorage","App","path","heartIconRed","href","rel","ReactDOM","render","document","getElementById"],"mappings":"mMAAAA,EAAOC,QAAU,IAA0B,iC,mBCA3CD,EAAOC,QAAU,spB,kBCAjBD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,iBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gPCgC9BC,EAAiB,WAC1B,IAAIC,EAAUC,aAAaC,QAjCX,cAkChB,OAAGF,EACuBG,KAAKC,MAAMJ,GAG9B,M,QCpCEK,EAAiB,SAACC,GAC7B,OAAOC,MAAM,qDAAD,OAC2CD,EAD3C,kBAC6DE,EAAOC,QADpE,oCAGTC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,OAAOA,KAERC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,O,wIC4B1BG,EAAQ,SAACC,EAASC,GACpB,IAAIC,EAAI,IAAIC,KACRC,EAAMC,KAAKC,MAAMJ,EAAEK,UAAY,KACnC,OAAIH,GAAOJ,GAAWI,GAAOH,GAMlBO,EApCD,SAACC,GACX,IAAIC,EACJ,QAAQ,GACJ,KAAKD,EAAME,QAAU,KAAOF,EAAME,OAAS,IACvCD,EAAO,yBAAKE,IAAKC,IAAOC,IAAI,UAC5B,MACJ,KAAKL,EAAME,QAAU,KAAOF,EAAME,OAAS,IACvCD,EAAO,yBAAKE,IAAKG,IAAUD,IAAI,cAC/B,MACJ,KAAKL,EAAME,QAAU,KAAOF,EAAME,OAAS,IACvCD,EAAO,yBAAKE,IAAKI,IAAMF,IAAI,SAC3B,MACJ,KAAKL,EAAME,QAAU,KAAOF,EAAME,OAAS,IACvCD,EAAO,yBAAKE,IAAKK,IAAMH,IAAI,SAC3B,MACJ,KAAKL,EAAME,QAAU,KAAOF,EAAME,QAAU,IACxCD,EAAOX,EAAMU,EAAMT,QAASS,EAAMR,QAAU,yBAAKW,IAAKM,IAAWJ,IAAI,eAAsB,yBAAKF,IAAKO,IAAaL,IAAI,iBACtH,MACJ,KAAsB,MAAjBL,EAAME,OACPD,EAAOX,EAAMU,EAAMT,QAASS,EAAMR,QAAU,yBAAKW,IAAKQ,IAASN,IAAI,aAAoB,yBAAKF,IAAKS,IAAWP,IAAI,eAChH,MACJ,QACIJ,EAAO,yBAAKE,IAAKQ,IAASN,IAAI,YAGtC,OAAOJ,G,iBCmCIY,EAhEG,WAAO,IAAD,EACsBC,mBAAS,IAD/B,mBACbC,EADa,KACEC,EADF,KAIpBC,qBAAU,WACN,IAAMC,EAAiB/C,IACpB+C,GACCC,EAAiBD,KAEtB,IAEH,IAAME,EAAY,SAACC,IHAS,SAACA,GAC7B,IAAIjD,EAAUC,aAAaC,QAnBX,cAoBVgD,EAAgB/C,KAAKC,MAAMJ,GAE3BmD,EAAWD,EAAcE,QAAQH,IAGrB,IAAdE,IACAD,EAAcG,OAAOF,EAAU,GAC/BlD,aAAaqD,QA3BD,aA2BsBnD,KAAKoD,UAAUL,KGRjDM,CAAiBP,GACjB,IAAME,EAAWR,EAAcc,WAAU,SAAAC,GAAI,OAAIA,EAAKT,KAAOA,KAC7DN,EAAcU,OAAOF,EAAU,GAE/BP,EAAiB,YAAID,KAKnBI,EAAgB,uCAAG,WAAOY,GAAP,uBAAAC,EAAA,sDACfC,EAAc,GADC,cAELF,GAFK,gEAEXV,EAFW,iBFdpB1C,MAAM,sDAAD,OEiBsC0C,EFjBtC,kBACgEzC,EAAOC,QADvE,oCAGTC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,OAAOA,KAERC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MEOH,QAGX+C,EAHW,SAKbD,EAAYE,KAAKD,GALJ,+IAQrBlB,EAAiBiB,GARI,gEAAH,sDAYtB,OACI,6BAASG,UAAU,YACf,kBAAC,IAAD,CAAMC,GAAG,KACL,4BAAQD,UAAU,YAAlB,SAIFrB,EAAcuB,OAAS,EACrB,wBAAIF,UAAU,YAEVrB,EAAcwB,KAAI,SAACT,EAAMU,GACrB,OAAO,wBAAIC,IAAKD,EAAOJ,UAAU,eAC7B,kBAAC,EAAD,CAAOA,UAAU,YACblC,OAAQ4B,EAAKY,QAAQ,GAAGrB,IAAM,IAC9B9B,QAASuC,EAAKa,IAAIpD,QAClBC,OAAQsC,EAAKa,IAAInD,SAErB,4BAAKI,KAAKgD,MAAMd,EAAKe,KAAKC,MAA1B,SACA,4BAAKhB,EAAKiB,MACV,yBAAK5C,IAAK6C,IAAY3C,IAAI,cAAc4C,QAAS,kBAAM7B,EAAUU,EAAKT,YAMlF,uBAAGe,UAAU,YAAb,kCC1CDc,EAvBQ,CACnBC,uBAAwB,SAACC,EAAUC,GAC/B,IAAIC,EAAG,sEAAkEF,EAAlE,gBAAkFC,EAAlF,6BACP,OAAO1E,MAAM2E,GACRxE,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACH,IAAIsE,EAAM,GAQV,OAPItE,EAAKuE,QAAQC,KACbF,EAAMtE,EAAKuE,QAAQC,KACZxE,EAAKuE,QAAQE,QACpBH,EAAMtE,EAAKuE,QAAQE,QACZzE,EAAKuE,QAAQG,QACpBJ,EAAMtE,EAAKuE,QAAQG,OAEhBJ,KAEVrE,OAAM,SAACC,GAEJ,OADAC,QAAQC,IAAIF,IACL,O,sGCqHRyE,GAxHF,WAAO,IAAD,EACqB9C,mBAAS,IAD9B,mBACR+C,EADQ,KACIC,EADJ,OAIuBhD,mBAAS,MAJhC,mBAIRiD,EAJQ,KAIKC,EAJL,OAKWlD,oBAAS,GALpB,mBAKRmD,EALQ,KAKDC,EALC,KAQfjD,qBAAU,WACF,gBAAiBkD,WACjBA,UAAUC,YAAYC,oBAAmB,SAAC9C,GACtC2B,EAAeC,uBACX5B,EAAS+C,OAAOlB,SAChB7B,EAAS+C,OAAOjB,WAEnBvE,MAAK,SAACyF,GACH9F,EAAe8F,GACdzF,MAAK,SAAAG,GAAS+E,EAAe/E,SAEjCC,OAAM,SAACC,GACJC,QAAQC,IAAIF,WAIzB,IAqBH,OACI,8BACA,6BACI,kBAAC,IAAD,CAAMkD,GAAG,cACL,yBAAKlC,IAAKqE,IAAsBpC,UAAU,oBAAoB/B,IAAI,iBAG1E,kDACA,0BACEoE,SAAU,SAACC,GACTA,EAAEC,kBACDvC,UAAU,QACX,2BAAOwC,QAAQ,UAAf,QACA,2BAAOvD,GAAG,SAASwD,KAAK,OAAOC,MAAOjB,EAAYkB,SAxDlC,SAAAC,GAAUlB,EAAckB,EAAMC,OAAOH,UAyDrD,4BAAQ1C,UAAU,MAAMyC,KAAK,SAAS5B,QAjC/B,WACXxE,EAAeoF,GAAY/E,MAAK,SAAAG,GAC5B,IAAMiC,EAAiB/C,IACpB+C,GAAkBA,EAAegE,SAASjG,EAAKoC,IAC9C6C,GAAS,GAETA,GAAS,GAEbF,EAAe/E,QAyBf,WAKF8E,GAAmC,MAApBA,EAAYoB,IACzB,oCACE,6BAAS/C,UAAU,iBACnB,kBAAC,EAAD,CACAlC,OAAQ6D,EAAYrB,QAAQ,GAAGrB,IAAM,IACrC9B,QAASwE,EAAYpB,IAAIpD,QACzBC,OAAQuE,EAAYpB,IAAInD,SACtB,iCACQ,4BAAKuE,EAAYrB,QAAQH,KAAI,SAAAT,GAAQ,OAAOA,EAAKsD,gBACjD,4BAAKxF,KAAKgD,MAAMmB,EAAYlB,KAAKC,MAAjC,SACA,2BAAIlD,KAAKgD,MAAMmB,EAAYlB,KAAKwC,YAAhC,oBACA,4BAAKtB,EAAYhB,QAG3B,6BAASX,UAAU,oBACf,iCACI,6BAAK,yBAAKjC,IAAKmF,IAASjF,IAAI,mBAC5B,6BAAMT,KAAKgD,MAAMmB,EAAYlB,KAAK0C,UAAlC,UAEJ,iCACI,6BAAK,yBAAKpF,IAAKqF,IAASnF,IAAI,mBAC5B,6BAAMT,KAAKgD,MAAMmB,EAAYlB,KAAK4C,UAAlC,UAEJ,iCACI,6BAAK,yBAAKtF,IAAKuF,IAAcrF,IAAI,mBACjC,6BAAM0D,EAAYlB,KAAK8C,SAAvB,MAEJ,iCACI,6BAAK,yBAAKxF,IAAKyF,IAAcvF,IAAI,mBACjC,6BAAM0D,EAAYlB,KAAKgD,SAAvB,SAGN5B,EAOA,6BAAS7B,UAAU,iBACf,yBAAKA,UAAU,cAAajC,IAAK2F,IAAYzF,IAAI,wBAPvD,6BAAS+B,UAAU,iBACjB,4BAAQA,UAAU,MAAMa,QA3Df,YLpDK,SAACc,GAC3B,IAAI3F,EAAUC,aAAaC,QAHX,cAKZF,IACAC,aAAaqD,QAND,aAMsBnD,KAAKoD,UAAU,KACjDvD,EAAUC,aAAaC,QAPX,eAShB,IAAMgD,EAAgB/C,KAAKC,MAAMJ,GAEnBkD,EAAcyE,MAAK,SAAAjE,GAAI,OAAIiC,EAAY1C,KAAOS,OAExDR,EAAca,KAAK4B,EAAY1C,IAC/BhD,aAAaqD,QAdD,aAcsBnD,KAAKoD,UAAUL,KKyCjD0E,CAAejC,GACfG,GAAS,KAyDD,sBAUA,KAELH,GAAmC,QAApBA,EAAYoB,IACpB,yBAAK/C,UAAU,aACX,yDACA,uFAEN,OCnGD6D,GAlBH,WACV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,cACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,GAAD,QAGJ,4BAAQ9D,UAAU,UAChB,wCAAa,yBAAKjC,IAAKgG,IAAc9F,IAAI,eAAzC,OAAgE,uBAAG+F,KAAK,6BAA6BnB,OAAO,SAASoB,IAAI,uBAAzD,c,MCjBxEC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.777d4408.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sun.d0e97358.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFZSURBVDiNpZI7SwNREIXPzI1oIsQHCBZBERu1EEHigoXeDZbib4ilir9B/Q/airVWgmWiq4KvIIiNFiJJTCUYRcOKmN2xcUOyuOvrNPcyc76Zc+EC/xR5l5dUcoKIZ0BuJ1y+fHffNjqsiycAeNQj7U3cnAa7wxAuu5DtePbsEABIlsH2wdiqEOZ8w+8JMk0i5IJ3QOhq3CxrsWxukSopYxYk6wEJnz/PeEA/HQHLAiTwiUGgl2OeIRgKN4VJBhnAw98HoMwANv+Mk2yx7cSWAFz9Gha6tqutKwQAFZ3sBvMeSAZ+iBeURCaju0eF2keytZEQJZYA/d/CDuuodZIHAPaqMeu0REpMAW5D4KJSMD0YqPvKnl6nRnscURaAPl/rLkKiWzK5hgXsMyGaOS8qcjSAfF25VBXH9MNfJqglSY33OlTdB6AcR5lt1vFNkDdQtjYStjYSYZ4PMtJ1VXAMyGIAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/night.17df37be.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy_day.070b2c4f.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudy_night.0a3ce6b0.svg\";","module.exports = __webpack_public_path__ + \"static/media/rainy_day.8330357b.svg\";","module.exports = __webpack_public_path__ + \"static/media/rain.7e1e68ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/storm.2115184c.svg\";","module.exports = __webpack_public_path__ + \"static/media/snowflake.1396aa2d.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.5a226e36.svg\";","module.exports = __webpack_public_path__ + \"static/media/cold.fe0aefb0.svg\";","module.exports = __webpack_public_path__ + \"static/media/hot.7e5e659b.svg\";","module.exports = __webpack_public_path__ + \"static/media/humidity.7998765e.svg\";","module.exports = __webpack_public_path__ + \"static/media/meter.aa8ae84d.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart_transparent.7746f5e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/added.c862df86.svg\";","const KEY_STORAGE = 'weatherFav';\n\nexport const saveFavStorage = (weatherData) => {\n    let listFav = localStorage.getItem(KEY_STORAGE);\n    // si no existe crear la key con un array vacío y luego la recuperamos. \n    if(!listFav){\n        localStorage.setItem(KEY_STORAGE, JSON.stringify([]));\n        listFav = localStorage.getItem(KEY_STORAGE);\n    }\n    const listFavParsed = JSON.parse(listFav);\n    // en la lista de favs buscar el item que corresponde con el id de weatherData y si no hay ningún id que corresponda hacer push de ese Id a la lista y guardarlo en la key weatherFav.\n    const found = listFavParsed.find(item => weatherData.id === item);\n    if (!found){\n        listFavParsed.push(weatherData.id);\n        localStorage.setItem(KEY_STORAGE, JSON.stringify(listFavParsed));\n    }\n}\n\nexport const removeFavStorage = (id) => {\n    let listFav = localStorage.getItem(KEY_STORAGE);\n    const listFavParsed = JSON.parse(listFav);\n    // buscar en la lista la posición del Id a borrar\n    const position = listFavParsed.indexOf(id);\n    // si esa posición es diferente a -1 significa que ese elemento existe y lo quita del array. \n    // actualizar localStorage.\n    if (position !== -1){\n        listFavParsed.splice(position, 1);\n        localStorage.setItem(KEY_STORAGE, JSON.stringify(listFavParsed));\n    }\n    \n}\n\nexport const readFavStorage = () => {\n    let listFav = localStorage.getItem(KEY_STORAGE);\n    if(listFav){\n        const listFavParsed = JSON.parse(listFav);\n        return listFavParsed;\n    }\n    return null;\n}\n\n","import CONFIG from '../config.json';\n\nexport const getDataFromApi = (location) => {\n  return fetch(\n    `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${CONFIG.API_KEY}&mode=json&units=metric&lang=en`\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    })\n    .catch(error => console.log(error));\n};\n\nexport const getDataFromApiId = (locationId) => {\n  return fetch(\n    `https://api.openweathermap.org/data/2.5/weather?id=${locationId}&appid=${CONFIG.API_KEY}&mode=json&units=metric&lang=en`\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      return data;\n    })\n    .catch(error => console.log(error));\n};\n","import React from 'react';\n\nimport sunyDay from '../images/weather/sun.svg';\nimport sunyNight from '../images/weather/night.svg';\nimport cloudyDay from '../images/weather/cloudy_day.svg';\nimport cloudyNight from '../images/weather/cloudy_night.svg';\nimport rainyDay from '../images/weather/rainy_day.svg';\nimport rain from '../images/weather/rain.svg';\nimport storm from '../images/weather/storm.svg';\nimport snow from '../images/weather/snowflake.svg';\n\nconst Icons = (props) => {\n    let icon;\n    switch (true) {\n        case props.iconId >= 200 && props.iconId < 300:\n            icon = <img src={storm} alt=\"storm\"></img>;\n            break;\n        case props.iconId >= 300 && props.iconId < 400:\n            icon = <img src={rainyDay} alt=\"rainy day\"></img>;\n            break;\n        case props.iconId >= 500 && props.iconId < 600:\n            icon = <img src={rain} alt=\"rain\"></img>;\n            break;\n        case props.iconId >= 600 && props.iconId < 700:\n            icon = <img src={snow} alt=\"snow\"></img>;\n            break;\n        case props.iconId >= 801 && props.iconId <= 804:\n            icon = isDay(props.sunrise, props.sunset) ? <img src={cloudyDay} alt=\"cloudy day\"></img> : <img src={cloudyNight} alt=\"cloudy night\"></img>;\n            break;\n        case props.iconId === 800:\n            icon = isDay(props.sunrise, props.sunset) ? <img src={sunyDay} alt=\"suny day\"></img> : <img src={sunyNight} alt=\"suny night\"></img>;\n            break;\n        default:\n            icon = <img src={sunyDay} alt=\"sunyDay\"></img>;\n            break;\n    }\n    return icon;\n}\nconst isDay = (sunrise, sunset) => {\n    let d = new Date(),\n        now = Math.round(d.getTime() / 1000);\n    if (now >= sunrise && now <= sunset) {\n        return true;\n    }\n    return false;\n};\n\nexport default Icons\n","import React, {useState, useEffect} from 'react';\nimport {Link} from \"react-router-dom\";\nimport {removeFavStorage, readFavStorage} from '../services/storage';\nimport {getDataFromApiId} from '../services/api';\nimport Icons from './Icons';\nimport deleteIcon from '../images/delete.svg';\n\nconst Favorites = () => {\n    const [favoritesData, setFavoritesData] = useState([]);\n\n    // si hay algo en localStorage llamamos a la función getDataFavorites pasándole el array de ids \n    useEffect(() => {\n        const favoritesLocal = readFavStorage();\n        if(favoritesLocal){\n            getDataFavorites(favoritesLocal);\n        }\n    }, []);\n\n    const removeFav = (id) => {\n        removeFavStorage(id);\n        const position = favoritesData.findIndex(item => item.id === id);\n        favoritesData.splice(position, 1);\n        // al modificar el estado necesitamos utilizar el spread operator para re-renderizar el componente\n        setFavoritesData([...favoritesData]);\n    }\n\n    // recorrer todo el array de Ids \n    // buscar en la api del tiempo por Id\n    const getDataFavorites = async (favoritesIds) => {\n        const favListData = [];\n        for(const id of favoritesIds){\n            const cityData = await getDataFromApiId(id);\n            if(cityData){\n                favListData.push(cityData);\n            }\n        }\n        setFavoritesData(favListData);\n    }\n    \n\n    return (\n        <section className=\"fav-page\">\n            <Link to=\"/\">\n                <button className=\"btn back\">\n                    back\n                </button>\n            </Link>\n            { favoritesData.length > 0 ? (\n                <ul className=\"fav-list\">\n                {\n                    favoritesData.map((item, index) => {\n                        return <li key={index} className=\"fav-element\">\n                            <Icons className=\"fav-icons\"\n                                iconId={item.weather[0].id || 800} \n                                sunrise={item.sys.sunrise} \n                                sunset={item.sys.sunset}\n                            />\n                            <h2>{Math.floor(item.main.temp)}ºC</h2>\n                            <h4>{item.name}</h4>\n                            <img src={deleteIcon} alt=\"delete icon\" onClick={() => removeFav(item.id)}></img>\n                        </li>\n                    })\n                }\n                </ul>\n                ) : \n                <p className=\"fav-none\">No hay faovritos que mostrar</p>\n            }\n        </section>\n    )\n}\n\nexport default Favorites\n","const GeoLocationApi = {\n    getCityFromCoordinates: (latitude, longitude) => {\n        let URL = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18&addressdetails=1`;\n        return fetch(URL)\n            .then((response) => response.json())\n            .then((data) => {\n                let loc = '';\n                if (data.address.town) {\n                    loc = data.address.town;\n                } else if (data.address.village) {\n                    loc = data.address.village;\n                } else if (data.address.state) {\n                    loc = data.address.state;\n                }\n                return loc;\n            })\n            .catch((error) => {\n                console.log(error);\n                return false;\n            });\n    },\n};\n\nexport default GeoLocationApi;","import React, { useState, useEffect } from 'react';\nimport {Link} from \"react-router-dom\";\nimport {getDataFromApi} from '../services/api';\nimport GeoLocationApi from '../services/geolocation';\nimport {saveFavStorage, readFavStorage} from '../services/storage';\n\nimport Icons from './Icons';\nimport minIcon from '../images/cold.svg';\nimport maxIcon from '../images/hot.svg';\nimport humidityIcon from '../images/humidity.svg';\nimport pressureIcon from '../images/meter.svg';\nimport heartIconTransparent from '../images/heart_transparent.svg';\nimport addedToFav from '../images/added.svg';\n\n\nconst Home = () => {\n    const [searchCity, setSearchCity] = useState('');\n    const searchCityValue = event => {setSearchCity(event.target.value)};\n\n    const [weatherData, setWeatherData] = useState(null);\n    const [isFav, setIsFav] = useState(false);\n\n    \n    useEffect(() => {\n        if ('geolocation' in navigator) {\n            navigator.geolocation.getCurrentPosition((position) => {\n                GeoLocationApi.getCityFromCoordinates(\n                    position.coords.latitude,\n                    position.coords.longitude,\n                )\n                .then((locationName) => {\n                    getDataFromApi(locationName)\n                    .then(data => {setWeatherData(data)});\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n            });\n        }\n    }, []);\n\n    const submit = () => {\n        getDataFromApi(searchCity).then(data => {\n            const favoritesLocal = readFavStorage();\n            if(favoritesLocal && favoritesLocal.includes(data.id)){\n                setIsFav(true);\n            } else {\n                setIsFav(false)\n            }\n            setWeatherData(data)\n        });\n        \n    }\n\n    const saveFavorite = () => {\n        saveFavStorage(weatherData)\n        setIsFav(true)\n    }\n\n    \n    return (\n        <main>\n        <div>\n            <Link to=\"/favorites\">\n                <img src={heartIconTransparent} className=\"heart-transparent\" alt=\"heart Icon\"></img>\n            </Link>\n        </div>\n        <h1>Check the weather!</h1>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n          }} className=\"form\">\n            <label htmlFor='search'>City</label>\n            <input id='search' type='text' value={searchCity} onChange={searchCityValue}></input>\n            <button className=\"btn\" type='submit' onClick={submit}>\n              Search\n            </button>\n        </form>\n          {\n          weatherData && weatherData.cod === 200 ? (\n            <>\n              <section className=\"top-container\">\n              <Icons \n              iconId={weatherData.weather[0].id || 800} \n              sunrise={weatherData.sys.sunrise} \n              sunset={weatherData.sys.sunset}/>\n                <article>\n                        <h3>{weatherData.weather.map(item =>{return item.description})}</h3>\n                        <h2>{Math.floor(weatherData.main.temp)}ºC</h2>\n                        <p>{Math.floor(weatherData.main.feels_like)}ºC feels like</p>\n                        <h4>{weatherData.name}</h4>\n                </article>\n              </section>\n              <section className=\"bottom-container\">\n                  <article>\n                      <div><img src={minIcon} alt=\"min temp icon\"></img></div>\n                      <div>{Math.floor(weatherData.main.temp_min)}ºC</div>\n                  </article>\n                  <article>\n                      <div><img src={maxIcon} alt=\"max temp icon\"></img></div>\n                      <div>{Math.floor(weatherData.main.temp_max)}ºC</div>\n                  </article>\n                  <article>\n                      <div><img src={humidityIcon} alt=\"humidity icon\"></img></div>\n                      <div>{weatherData.main.humidity}%</div>\n                  </article>\n                  <article>\n                      <div><img src={pressureIcon} alt=\"pressure icon\"></img></div>\n                      <div>{weatherData.main.pressure}pHa</div>\n                  </article>\n              </section>\n              {!isFav ? \n              <section className=\"btn-favorites\">\n                <button className=\"btn\" onClick={saveFavorite}>\n                    Add to favorites\n                </button>\n              </section>\n              : \n                <section className=\"btn-favorites\">\n                    <img className=\"heart-added\"src={addedToFav} alt=\"added to favorites\"></img>\n                </section>\n                }\n            </>\n            ) : null\n          }\n          {weatherData && weatherData.cod === '404' ? (\n                  <div className=\"not-found\">\n                      <h2>Ooops! Location not found</h2>\n                      <p>Make sure you have typed the name of the city correctly</p>\n                  </div>\n            ) : null}\n      </main>\n    )\n}\n\nexport default Home\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport heartIconRed from '../images/heart.png';\n\nimport '../style/App.scss';\nimport Favorites from './Favorites';\nimport Home from './Home';\n\nconst App = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/favorites\">\n          <Favorites />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n      <footer className=\"footer\">\n        <p>Made with <img src={heartIconRed} alt=\"heart Icon\"></img> by <a href=\"https://github.com/corimb/\" target=\"_blank\" rel=\"noopener noreferrer\">Corina</a></p>\n      </footer>\n    </Router>\n  );\n};\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nimport './index.css';\n\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}