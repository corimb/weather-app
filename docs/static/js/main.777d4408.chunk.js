(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"API_KEY":"de6aa9d0e4d65d1845758b36db3c5052"}')},function(e,t,a){e.exports=a.p+"static/media/sun.d0e97358.svg"},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFZSURBVDiNpZI7SwNREIXPzI1oIsQHCBZBERu1EEHigoXeDZbib4ilir9B/Q/airVWgmWiq4KvIIiNFiJJTCUYRcOKmN2xcUOyuOvrNPcyc76Zc+EC/xR5l5dUcoKIZ0BuJ1y+fHffNjqsiycAeNQj7U3cnAa7wxAuu5DtePbsEABIlsH2wdiqEOZ8w+8JMk0i5IJ3QOhq3CxrsWxukSopYxYk6wEJnz/PeEA/HQHLAiTwiUGgl2OeIRgKN4VJBhnAw98HoMwANv+Mk2yx7cSWAFz9Gha6tqutKwQAFZ3sBvMeSAZ+iBeURCaju0eF2keytZEQJZYA/d/CDuuodZIHAPaqMeu0REpMAW5D4KJSMD0YqPvKnl6nRnscURaAPl/rLkKiWzK5hgXsMyGaOS8qcjSAfF25VBXH9MNfJqglSY33OlTdB6AcR5lt1vFNkDdQtjYStjYSYZ4PMtJ1VXAMyGIAAAAASUVORK5CYII="},,,function(e,t,a){e.exports=a.p+"static/media/night.17df37be.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy_day.070b2c4f.svg"},function(e,t,a){e.exports=a.p+"static/media/cloudy_night.0a3ce6b0.svg"},function(e,t,a){e.exports=a.p+"static/media/rainy_day.8330357b.svg"},function(e,t,a){e.exports=a.p+"static/media/rain.7e1e68ae.svg"},function(e,t,a){e.exports=a.p+"static/media/storm.2115184c.svg"},function(e,t,a){e.exports=a.p+"static/media/snowflake.1396aa2d.svg"},function(e,t,a){e.exports=a.p+"static/media/delete.5a226e36.svg"},,function(e,t,a){e.exports=a.p+"static/media/cold.fe0aefb0.svg"},function(e,t,a){e.exports=a.p+"static/media/hot.7e5e659b.svg"},function(e,t,a){e.exports=a.p+"static/media/humidity.7998765e.svg"},function(e,t,a){e.exports=a.p+"static/media/meter.aa8ae84d.svg"},function(e,t,a){e.exports=a.p+"static/media/heart_transparent.7746f5e4.svg"},function(e,t,a){e.exports=a.p+"static/media/added.c862df86.svg"},,function(e,t,a){e.exports=a(53)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),i=a.n(r),l=a(6),o=a(1),s=a(21),u=a.n(s),m=(a(45),a(13)),d=a.n(m),f=a(22),p=a(23),h=a(39),g=a(9),E=function(){var e=localStorage.getItem("weatherFav");return e?JSON.parse(e):null},v=a(14),A=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(v.API_KEY,"&mode=json&units=metric&lang=en")).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))},b=a(15),y=a.n(b),I=a(24),w=a.n(I),N=a(25),x=a.n(N),S=a(26),k=a.n(S),O=a(27),C=a.n(O),j=a(28),J=a.n(j),B=a(29),F=a.n(B),M=a(30),Y=a.n(M),K=function(e,t){var a=new Date,n=Math.round(a.getTime()/1e3);return n>=e&&n<=t},R=function(e){var t;switch(!0){case e.iconId>=200&&e.iconId<300:t=c.a.createElement("img",{src:F.a,alt:"storm"});break;case e.iconId>=300&&e.iconId<400:t=c.a.createElement("img",{src:C.a,alt:"rainy day"});break;case e.iconId>=500&&e.iconId<600:t=c.a.createElement("img",{src:J.a,alt:"rain"});break;case e.iconId>=600&&e.iconId<700:t=c.a.createElement("img",{src:Y.a,alt:"snow"});break;case e.iconId>=801&&e.iconId<=804:t=K(e.sunrise,e.sunset)?c.a.createElement("img",{src:x.a,alt:"cloudy day"}):c.a.createElement("img",{src:k.a,alt:"cloudy night"});break;case 800===e.iconId:t=K(e.sunrise,e.sunset)?c.a.createElement("img",{src:y.a,alt:"suny day"}):c.a.createElement("img",{src:w.a,alt:"suny night"});break;default:t=c.a.createElement("img",{src:y.a,alt:"sunyDay"})}return t},Z=a(31),H=a.n(Z),P=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){var e=E();e&&o(e)}),[]);var i=function(e){!function(e){var t=localStorage.getItem("weatherFav"),a=JSON.parse(t),n=a.indexOf(e);-1!==n&&(a.splice(n,1),localStorage.setItem("weatherFav",JSON.stringify(a)))}(e);var t=a.findIndex((function(t){return t.id===e}));a.splice(t,1),r(Object(h.a)(a))},o=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,c,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(f.a)(t),e.prev=2,n.s();case 4:if((c=n.n()).done){e.next=12;break}return i=c.value,e.next=8,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(i,"&appid=").concat(v.API_KEY,"&mode=json&units=metric&lang=en")).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 8:(l=e.sent)&&a.push(l);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:r(a);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("section",{className:"fav-page"},c.a.createElement(l.b,{to:"/"},c.a.createElement("button",{className:"btn back"},"back")),a.length>0?c.a.createElement("ul",{className:"fav-list"},a.map((function(e,t){return c.a.createElement("li",{key:t,className:"fav-element"},c.a.createElement(R,{className:"fav-icons",iconId:e.weather[0].id||800,sunrise:e.sys.sunrise,sunset:e.sys.sunset}),c.a.createElement("h2",null,Math.floor(e.main.temp),"\xbaC"),c.a.createElement("h4",null,e.name),c.a.createElement("img",{src:H.a,alt:"delete icon",onClick:function(){return i(e.id)}}))}))):c.a.createElement("p",{className:"fav-none"},"No hay faovritos que mostrar"))},U={getCityFromCoordinates:function(e,t){var a="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t,"&zoom=18&addressdetails=1");return fetch(a).then((function(e){return e.json()})).then((function(e){var t="";return e.address.town?t=e.address.town:e.address.village?t=e.address.village:e.address.state&&(t=e.address.state),t})).catch((function(e){return console.log(e),!1}))}},q=a(33),_=a.n(q),D=a(34),Q=a.n(D),V=a(35),z=a.n(V),W=a(36),X=a.n(W),G=a(37),L=a.n(G),T=a(38),$=a.n(T),ee=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),o=Object(g.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(g.a)(m,2),f=d[0],p=d[1];Object(n.useEffect)((function(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){U.getCityFromCoordinates(e.coords.latitude,e.coords.longitude).then((function(e){A(e).then((function(e){u(e)}))})).catch((function(e){console.log(e)}))}))}),[]);return c.a.createElement("main",null,c.a.createElement("div",null,c.a.createElement(l.b,{to:"/favorites"},c.a.createElement("img",{src:L.a,className:"heart-transparent",alt:"heart Icon"}))),c.a.createElement("h1",null,"Check the weather!"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault()},className:"form"},c.a.createElement("label",{htmlFor:"search"},"City"),c.a.createElement("input",{id:"search",type:"text",value:a,onChange:function(e){r(e.target.value)}}),c.a.createElement("button",{className:"btn",type:"submit",onClick:function(){A(a).then((function(e){var t=E();t&&t.includes(e.id)?p(!0):p(!1),u(e)}))}},"Search")),s&&200===s.cod?c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"top-container"},c.a.createElement(R,{iconId:s.weather[0].id||800,sunrise:s.sys.sunrise,sunset:s.sys.sunset}),c.a.createElement("article",null,c.a.createElement("h3",null,s.weather.map((function(e){return e.description}))),c.a.createElement("h2",null,Math.floor(s.main.temp),"\xbaC"),c.a.createElement("p",null,Math.floor(s.main.feels_like),"\xbaC feels like"),c.a.createElement("h4",null,s.name))),c.a.createElement("section",{className:"bottom-container"},c.a.createElement("article",null,c.a.createElement("div",null,c.a.createElement("img",{src:_.a,alt:"min temp icon"})),c.a.createElement("div",null,Math.floor(s.main.temp_min),"\xbaC")),c.a.createElement("article",null,c.a.createElement("div",null,c.a.createElement("img",{src:Q.a,alt:"max temp icon"})),c.a.createElement("div",null,Math.floor(s.main.temp_max),"\xbaC")),c.a.createElement("article",null,c.a.createElement("div",null,c.a.createElement("img",{src:z.a,alt:"humidity icon"})),c.a.createElement("div",null,s.main.humidity,"%")),c.a.createElement("article",null,c.a.createElement("div",null,c.a.createElement("img",{src:X.a,alt:"pressure icon"})),c.a.createElement("div",null,s.main.pressure,"pHa"))),f?c.a.createElement("section",{className:"btn-favorites"},c.a.createElement("img",{className:"heart-added",src:$.a,alt:"added to favorites"})):c.a.createElement("section",{className:"btn-favorites"},c.a.createElement("button",{className:"btn",onClick:function(){!function(e){var t=localStorage.getItem("weatherFav");t||(localStorage.setItem("weatherFav",JSON.stringify([])),t=localStorage.getItem("weatherFav"));var a=JSON.parse(t);a.find((function(t){return e.id===t}))||(a.push(e.id),localStorage.setItem("weatherFav",JSON.stringify(a)))}(s),p(!0)}},"Add to favorites"))):null,s&&"404"===s.cod?c.a.createElement("div",{className:"not-found"},c.a.createElement("h2",null,"Ooops! Location not found"),c.a.createElement("p",null,"Make sure you have typed the name of the city correctly")):null)},te=function(){return c.a.createElement(l.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/favorites"},c.a.createElement(P,null)),c.a.createElement(o.a,{path:"/"},c.a.createElement(ee,null))),c.a.createElement("footer",{className:"footer"},c.a.createElement("p",null,"Made with ",c.a.createElement("img",{src:u.a,alt:"heart Icon"})," by ",c.a.createElement("a",{href:"https://github.com/corimb/",target:"_blank",rel:"noopener noreferrer"},"Corina"))))};a(52);i.a.render(c.a.createElement(l.a,null,c.a.createElement(te,null)),document.getElementById("root"))}],[[40,1,2]]]);
//# sourceMappingURL=main.777d4408.chunk.js.map